<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap/dist/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.css" />
    <title>ipfs-ark-stamp</title>
  </head>
  <body>
    <div id="app">
      <div class="container">
        <h1>ipfs-ark-stamp</h1>
        <div v-if="!ipfs.connectionSuccess">The connection to the IPFS node could not be established.</div>
        <div v-else>
          <span class="badge badge-info">IPFS node version: {{ ipfs.nodeVersion.version }}</span>

          <b-overlay :show="stampedFilesTablesState === 'loading'" rounded="sm">
            <div class="card mt-2">
              <div class="card-header">Stamped files (/stamped)</div>
              <b-table
                show-empty
                small
                stacked="md"
                :items="ipfs.stampedFiles"
                :fields="[
                { key: 'fullName', label: 'Name', sortable: true },
                { key: 'size', label: 'Size', sortable: true, formatter: value => `${value} MB` },
                { key: 'cid', label: 'CID', sortable: true },
                { key: 'pin', label: 'Pin', class: 'text-center' },
                { key: 'delete', label: 'Delete', class: 'text-center' }
              ]"
              >
                <template v-slot:cell(pin)="row">
                  <b-button @click="setIpfsStampedFilePinState(row.item)" size="sm" variant="primary">
                    {{ row.item.pinned ? 'Unpin' : 'Pin' }}
                  </b-button>
                </template>

                <template v-slot:cell(delete)="row">
                  <b-button @click="deleteIpfsStampedFile(row.item)" size="sm" variant="danger">
                    Delete
                  </b-button>
                </template>
              </b-table>
            </div>
          </b-overlay>
        </div>
      </div>
    </div>

    <!-- <script src="//unpkg.com/vue@latest/dist/vue.min.js"></script> -->
    <script src="//unpkg.com/vue@latest/dist/vue.js"></script>
    <script src="//unpkg.com/bootstrap-vue@latest/dist/bootstrap-vue.min.js"></script>
    <script type="module" src="script.js"></script>
  </body>
</html>
